# Parking Management Simulation with SUMO and TraCI

This project uses **SUMO** (Simulation of Urban Mobility) and **TraCI** to simulate parking management along a road network. It allows analyzing parking dynamics with and without the support of a heatmap, calculating statistics, and generating useful visualizations for urban traffic studies.

The goal of the simulation is to model the behavior of vehicles equipped with beacon devices to monitor urban parking availability. Not all vehicles use the heatmap, and the project's objective is to determine how many vehicles need to be equipped with these devices to achieve significant optimizations in parking management. The simulation aims to model realistic scenarios and analyze the feasibility of implementing this system in an urban context. The goal is to understand whether the system can be effectively implemented and if it can bring concrete benefits in terms of reducing parking search time and improving traffic efficiency.

---
## **Project Structure**

The main directory contains the following files:

- **`parking_on_off_road.py`**: Main Python script that controls the simulation, dynamically interacting with the network via the TraCI module. It manages vehicles and parking and collects simulation data.
- **`parking_on_off_road.sumocfg`**: SUMO configuration file defining the required files for the simulation (road network, parking, etc.).
- **`parking_on_off_road.net.xml`**: Describes the road network, including intersections and connections.
- **`parking_on_off_road.add.xml`**: Specifies parking along the network with parameters such as:
  - `id`: Unique parking identifier.
  - `lane`: Lane where the parking is located.
  - `startPos` and `endPos`: Parking position on the lane (in meters).
  - `roadsideCapacity`: Number of available parking spots.
- **`manage_data.py`**: Python script for manipulating and analyzing simulation results. It calculates averages from collected data and generates graphs.
- **`heat_map.xml`**: File defining the granularity of the heatmap in the simulation.

---
## **Dependencies**

### **Python Version**
This script has been tested with Python 3.11.2. To ensure proper functionality, it is recommended to use this version or compatible versions.

### **Required Python Modules:**
- `numpy`: For advanced mathematical operations.
- `pandas`: For structured data manipulation and analysis.
- `seaborn`: For creating statistical plots.
- `imageio`: For handling images and videos.
- `traci`: to use SUMO

---
## **Installation**

1. Install SUMO (https://sumo.dlr.de/docs/Downloads.php)

2. Clone the repository:
    ```bash
    git clone https://github.com/fmuzzini/ParkingHeatmap.git
    cd ParkingHeatmap
    ```
2. Create a virtual environment:
    ```bash
    pipenv shell
    ```
3. Install dependencies:
    ```bash
    pipenv install
    ```

---
## **Running the Simulation**
Navigate to the cloned directory.

To start the simulation, use the command:
```bash
python3 parking_on_off_road.py
```
If you want to disable SUMO's graphical interface:
```bash
python3 parking_on_off_road.py --nogui
```
  
---

## **Using `manage_data.py`**  
The `manage_data.py` script is designed to process data generated by the parking simulation, calculating statistical averages and producing graphs to analyze the simulated parameters.

### **Calculating Data Averages and Graphical Representation**  
The script takes as input the file `results_data.csv`, which contains data collected during the simulation, and calculates averages for each group of simulations with similar parameters.  

To perform this operation and save the results in a new CSV file:
  ```bash
   python3 manage_data.py --output_csv FILE_NAME.csv
  ```
If you already have a file containing the averages and only want to create graphs:
   ```bash
   python3 manage_data.py --output_csv FILE_NAME.csv --skip_average
   ```
---
## **Contacts**  
For questions, bug reports, or suggestions:  
- **Email**: `309004@studenti.unimore.it`  
- **GitHub**: [@dade02](https://github.com/dade02)   

We are happy to receive feedback to improve the project or help you solve any issues. Feel free to reach out!

